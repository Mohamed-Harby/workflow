<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<body>
    <div th:fragment="sidebar" class="sidebar bg-dark text-white" style="width: 250px; min-height: 100vh; position: fixed; left: 0; top: 0;">
        <div class="p-3">
            <h4 class="text-center mb-4">Workflow</h4>
            <hr class="bg-light">
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link text-white" th:classappend="${activePage} == 'home' ? ' active'" href="/">
                        <i class="bi bi-house-door me-2"></i> Dashboard
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white" th:classappend="${activePage} == 'start' ? ' active'" href="/workflow/start">
                        <i class="bi bi-play-circle me-2"></i> Start Workflow
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white" th:classappend="${activePage} == 'tasks' ? ' active'" href="/workflow/tasks">
                        <i class="bi bi-list-task me-2"></i> Tasks
                        <span class="badge bg-primary rounded-pill ms-2" th:if="${activePage} == 'tasks'" th:text="${tasks != null ? #lists.size(tasks) : 0}"></span>
                    </a>
                </li>
                <li class="nav-item mt-4">
                    <div class="small text-muted">Processes</div>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white" th:classappend="${activePage} == 'processes' ? ' active'" href="/workflow/processes">
                        <i class="bi bi-diagram-3 me-2"></i> All Processes
                    </a>
                </li>
                <li class="nav-item mt-4">
                    <div class="small text-muted">Admin</div>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white" th:classappend="${activePage} == 'settings' ? ' active'" href="/admin/settings">
                        <i class="bi bi-gear me-2"></i> Settings
                    </a>
                </li>
            </ul>
        </div>
    </div>
    
    <style>
        .sidebar {
            z-index: 1000;
            padding-top: 1rem;
            box-shadow: 2px 0 5px rgba(0,0,0,0.1);
        }
        .sidebar .nav-link {
            color: rgba(255,255,255,.75);
            padding: 0.5rem 1rem;
            border-radius: 0.25rem;
            margin: 0.25rem 0.5rem;
            transition: all 0.2s;
        }
        .sidebar .nav-link:hover {
            background-color: rgba(255,255,255,.1);
            color: white;
        }
        .sidebar .nav-link.active,
        .sidebar .nav-link.active:focus {
            background-color: #0d6efd;
            color: white;
        }
        .sidebar .nav-link i {
            width: 1.25rem;
            text-align: center;
        }
    </style>
</body>
</html>
